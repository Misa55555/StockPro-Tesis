<div class="modal-header">
    <h5 class="modal-title">Venta #{{ venta.id }} Registrada</h5>
    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
</div>
<div class="modal-body" id="ticket-to-print">
    <div class="text-center mb-4">
        <h4>Resumen de la Venta</h4>
        <p class="mb-0"><strong>Fecha:</strong> {{ venta.fecha_hora|date:"d/m/Y H:i" }}</p>
        <p class="mb-0"><strong>Vendedor:</strong> {{ venta.vendedor.nombre_completo }}</p>
        <p><strong>Cliente:</strong> {{ venta.cliente.usuario.nombre_completo|default:"Consumidor Final" }}</p>
    </div>
    <table class="table table-sm">
        <thead>
            <tr>
                <th>Producto</th>
                <th class="text-center">Cant.</th>
                <th class="text-end">Precio</th>
                <th class="text-end">Subtotal</th>
            </tr>
        </thead>
        <tbody>
            {% for detalle in venta.detalles.all %}
            <tr>
                <td>{{ detalle.producto.nombre }}</td>
                <td class="text-center">{{ detalle.cantidad|floatformat:0 }}</td>
                <td class="text-end">${{ detalle.precio_unitario_momento|floatformat:2 }}</td>
                <td class="text-end">${{ detalle.subtotal|floatformat:2 }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    <hr>
    <div class="d-flex justify-content-end">
        <h4>Total: ${{ venta.total|floatformat:2 }}</h4>
    </div>
    <p class="text-center small mt-3">Â¡Gracias por su compra!</p>
</div>
<div class="modal-footer">
    <button type="button" class="btn btn-secondary" id="new-sale-btn">Nueva Venta</button>
    <button type="button" class="btn btn-primary" id="print-ticket-btn">Imprimir Ticket</button>
</div>