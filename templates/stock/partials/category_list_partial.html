{# templates/stock/partials/category_list_partial.html #}
{# ========================================================================== #}
{# LISTADO PARCIAL DE CATEGORÍAS (HTMX)                                       #}
{# ========================================================================== #}
{# Esta plantilla es un fragmento HTML diseñado para ser renderizado          #}
{# dinámicamente dentro de un contenedor, sin recargar la página completa.    #}
{# Se utiliza típicamente para actualizar la tabla tras una búsqueda o        #}
{# acción CRUD.                                                               #}
{#                                                                            #}
{# Características técnicas:                                                  #}
{# 1. HTMX: Utiliza atributos 'hx-get' y 'hx-target' para gestionar la        #}
{#    interacción con el servidor y la carga de modales.                      #}
{# 2. Diseño encapsulado: Solo contiene la tarjeta y la tabla, sin bloques    #}
{#    de extensión de base.                                                   #}
{# ========================================================================== #}

<div class="card shadow-sm">
    <div class="card-body">
        <table class="table table-hover">
            <thead>
                <tr>
                    <th>Nombre</th>
                    <th>Visible Online</th>
                    <th>Acciones</th>
                </tr>
            </thead>
            <tbody>
                {# Iteración sobre la lista de categorías #}
                {% for categoria in categorias %}
                <tr>
                    <td>{{ categoria.nombre }}</td>
                    <td>{% if categoria.es_visible_online %}Sí{% else %}No{% endif %}</td>
                    <td>
                        <button class="btn btn-sm btn-warning" 
                                hx-get="{% url 'stock_app:category_edit' categoria.pk %}" 
                                hx-target="#modal-container">
                            Editar
                        </button>
                        <button class="btn btn-sm btn-danger" 
                                hx-get="{% url 'stock_app:category_delete' categoria.pk %}" 
                                hx-target="#modal-container">
                            Eliminar
                        </button>
                    </td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="3" class="text-center">No hay categorías cargadas.</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>